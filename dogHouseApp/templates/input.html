<!DOCTYPE html>
<html lang="en">
  <head>
      <style>
      #map {
        width:100%;
        height:400px;
      }
    </style>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Chelsea Kolb">
    <link rel="icon" href="../../favicon.ico">
    <title>dogHouse | Find your dog-friendly apartment in Pittsburgh</title>
    <!-- Bootstrap core CSS -->
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="starter-template.css" rel="stylesheet">
    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="../../assets/js/ie-emulation-modes-warning.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!-- <a class="navbar-left">
            <img style="width:80px; margin-top:10px" src=images/dogHouseLogo_white.png>
          </a> -->
          <a class="navbar-brand text-info">dogHouse</a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
          <li class="active"><a href="/index">Home</a></li>
          <li><a href="/about">About</a></li>
          <li><a target="_blank" href="https://www.linkedin.com/in/chelsea-kolb">Contact Me</a></li>
      </div><!--/.nav-collapse -->
    </nav>

<br><br>

<div class="container">
  <div class="starter-template">
      <h2>Let's find a dog-friendly apartment!</h2>
  </div>
  <div class = "container">
    <form  action="/output" method="GET">
      <div class="form-group">
        <label for="ID">Enter Address or Zip Code:</label>
        <input type="text" id="ID" name='ID' placeholder="e.g. 15213">
        <button type="submit" class="btn btn-default btn">How dog-friendly is your place?</button>
      </div>
    </form>
  </div>

  <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>

  <script src="static/js/bootstrap.min.js"></script>

</div> <!-- /.container-->

<div class="container">
    <div id="map">   </div>
     <div>
     <center>
      <button onclick="toggleHeatmap()" style="width:15%">Show me everything</button>
      <button onclick="toggleHeatmapParks()" style="width:15%">Dog parks</button>
      <button onclick="toggleHeatmapRestaurants()"  style="width:15%">Restaurants</button>
      <button onclick="toggleHeatmapServices()" style="width:15%">Services</button>
      </center>
    </div>
</div>

   <script>

var map, heatmap;

function initMap() {
  var myLatLng = {lat: {{latcnt|safe}}, lng: {{lngcnt|safe}}};

  map = new google.maps.Map(document.getElementById('map'), {
    zoom: 13,
    center: myLatLng,
    mapTypeId: google.maps.MapTypeId.ROADMAP,
    minZoom: 12,
    maxZoom: 15
  });
  heatmap = new google.maps.visualization.HeatmapLayer({
    data: getPoints(),
    map: map
  });
      heatmap.set('radius', heatmap.get('radius') ? null : 30);
    changeGradient()

    var marker = new google.maps.Marker({
      position: myLatLng,
      map: map,
      title: 'Location',
      styleId:20
    });

    var contentString = '{{ncw|safe}}';
    marker.addListener('click', function() {
      infowindow.open(map, marker);
    });

    var infowindow = new google.maps.infoWindow({
      content: contentString
    });

    infowindow.open(map, marker);
      var layer = new google.maps.FusionTablesLayer({
        query: {
          select: 'Address',
          from: '',
          where: 'Score > {{the_result}}'
        },
          map: map,
          styleId: 2,
      });

      layer.setMap(map);
}

function toggleHeatmap() {
  heatmap.setData(getPoints());
}

function toggleHeatmapParks() {
heatmap.setData(getPointsParks());
}

function toggleHeatmapResaturants() {
heatmap.setData(getPointsRestaurants());
}

function toggleHeatmapServices() {
heatmap.setData(getPointsServices());
}

function changeGradient() {
  var gradient = [
    'rgba(0, 255, 255, 0)',
    'rgba(0, 255, 255, 1)',
    'rgba(0, 191, 255, 1)',
    'rgba(0, 127, 255, 1)',
    'rgba(0, 63, 255, 1)',
    'rgba(0, 0, 255, 1)',
    'rgba(0, 0, 223, 1)',
    'rgba(0, 0, 191, 1)',
    'rgba(0, 0, 159, 1)',
    'rgba(0, 0, 127, 1)',
    'rgba(63, 0, 91, 1)',
    'rgba(127, 0, 63, 1)',
    'rgba(191, 0, 31, 1)',
    'rgba(255, 0, 0, 1)'
  ]
  heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
}

function changeRadius() {
  heatmap.set('radius', heatmap.get('radius') ? null : 40);
}

function changeOpacity() {
  heatmap.set('opacity', heatmap.get('opacity') ? null : 1.0);
}

// Heatmap data:
function getPoints() {
  return [new google.maps.LatLng(40.522516, -80.118625),
new google.maps.LatLng(40.352320, -79.833073)
 ];
}

function getPoints() {
       return [
    new google.maps.LatLng(40.441595,-80.010180),
    new google.maps.LatLng(40.427944,-80.001089),
    new google.maps.LatLng(40.453332,-80.011723),
    new google.maps.LatLng(40.469800,-79.968255),
    new google.maps.LatLng(40.456080,-79.816160),
    new google.maps.LatLng(35.086299,-85.303870),
    new google.maps.LatLng(40.461778,-79.676997),
    new google.maps.LatLng(40.397179,-80.184886),
    new google.maps.LatLng(40.422901,-79.681644),
    new google.maps.LatLng(40.401928,-79.921260),
    new google.maps.LatLng(40.413821,-79.909741),
    new google.maps.LatLng(40.197636,-79.766481),
    new google.maps.LatLng(40.294151,-79.793983),
    new google.maps.LatLng(40.363491,-79.842038),
    new google.maps.LatLng(40.428559,-79.971305),
    new google.maps.LatLng(40.463156,-79.977372),
    new google.maps.LatLng(40.451078,-79.934368),
    new google.maps.LatLng(40.456050,-79.937433),
    new google.maps.LatLng(40.437099,-79.922707),
    new google.maps.LatLng(40.456841,-79.916023),
    new google.maps.LatLng(40.462388,-79.924611),
    new google.maps.LatLng(40.451518,-80.006029),
    new google.maps.LatLng(40.470808,-79.959999),
    new google.maps.LatLng(40.451585,-79.932827),
    new google.maps.LatLng(40.442896,-80.002374),
    new google.maps.LatLng(40.437569,-79.982552),
    new google.maps.LatLng(40.475768,-79.919649),
    new google.maps.LatLng(40.428466,-79.979290),
    new google.maps.LatLng(40.445906,-80.010504),
    new google.maps.LatLng(40.486946,-79.888864),
    new google.maps.LatLng(40.459595,-79.925583),
    new google.maps.LatLng(40.440809,-80.006105),
    new google.maps.LatLng(40.486992,-79.891129),
    new google.maps.LatLng(40.433876,-80.004540),
    new google.maps.LatLng(40.476492,-79.921481),
    new google.maps.LatLng(40.486992,-79.891129),
    new google.maps.LatLng(40.441704,-79.957343),
    new google.maps.LatLng(40.441786,-79.957448),
    new google.maps.LatLng(40.456050,-79.937433),
    new google.maps.LatLng(40.434935,-79.922661),
    new google.maps.LatLng(40.433970,-80.004921),
    new google.maps.LatLng(40.441831,-79.956862),
    new google.maps.LatLng(40.454232,-79.947420),
    new google.maps.LatLng(40.486992,-79.891129),
    new google.maps.LatLng(40.437095,-79.996550),
    new google.maps.LatLng(40.432953,-79.923214),
    new google.maps.LatLng(40.570088,-79.802487),
    new google.maps.LatLng(40.570419,-79.802486),
    new google.maps.LatLng(40.394949,-80.021978),
    new google.maps.LatLng(40.456050,-79.937433),
    new google.maps.LatLng(40.450740,-79.935712),
    new google.maps.LatLng(40.395029,-80.022054),
    new google.maps.LatLng(40.456050,-79.937433),
    new google.maps.LatLng(40.438207,-79.998719),
    new google.maps.LatLng(40.456050,-79.937433),
    new google.maps.LatLng(40.454232,-79.947420),
    new google.maps.LatLng(40.456050,-79.937433),
    new google.maps.LatLng(40.450740,-79.935712),
    new google.maps.LatLng(40.454232,-79.947420),
    new google.maps.LatLng(40.786080,-79.931109),
    new google.maps.LatLng(40.428125,-79.969810),
    new google.maps.LatLng(40.454232,-79.947420),
    new google.maps.LatLng(40.428125,-79.969810),
    new google.maps.LatLng(40.786080,-79.931109),
    new google.maps.LatLng(40.380184,-80.044534),
    new google.maps.LatLng(40.633286,-80.055942),
    new google.maps.LatLng(40.381904,-80.044391),
    new google.maps.LatLng(40.631461,-80.059193),
    new google.maps.LatLng(40.540092,-80.180010),
    new google.maps.LatLng(40.433756,-79.787729),
    new google.maps.LatLng(40.630078,-80.057321),
    new google.maps.LatLng(40.540899,-80.180019),
    new google.maps.LatLng(40.637342,-80.063528),
    new google.maps.LatLng(40.381294,-80.044092),
    new google.maps.LatLng(40.408167,-80.085132),
    new google.maps.LatLng(40.445480,-79.712871),
    new google.maps.LatLng(40.345621,-80.048793),
    new google.maps.LatLng(40.438389,-79.765176),
    new google.maps.LatLng(40.407080,-79.917397),
    new google.maps.LatLng(40.070704,-79.899945),
    new google.maps.LatLng(40.496439,-80.057834),
    new google.maps.LatLng(40.515765,-80.022285),
    new google.maps.LatLng(40.629661,-80.057199),
    new google.maps.LatLng(40.602370,-79.945553),
    new google.maps.LatLng(40.333335,-80.023347),
    new google.maps.LatLng(40.381327,-80.044088),
    new google.maps.LatLng(40.422088,-79.662357),
    new google.maps.LatLng(40.438569,-79.777650),
    new google.maps.LatLng(40.407633,-79.917042),
    new google.maps.LatLng(40.337507,-79.809553),
    new google.maps.LatLng(40.439153,-79.766928),
    new google.maps.LatLng(40.632483,-80.058283),
    new google.maps.LatLng(40.331506,-79.943970),
    new google.maps.LatLng(40.521857,-80.174776),
    new google.maps.LatLng(40.133313,-79.861908),
    new google.maps.LatLng(40.622999,-80.054316),
    new google.maps.LatLng(40.631771,-80.056752),
    new google.maps.LatLng(40.346498,-80.027621),
    new google.maps.LatLng(40.567168,-79.800866),
    new google.maps.LatLng(40.412010,-79.904712),
    new google.maps.LatLng(40.333431,-79.944181)
];
}

 function getPointsParks() {
       return [
     new google.maps.LatLng(40.441596,-80.010180),
     new google.maps.LatLng(40.427944,-80.001090),
     new google.maps.LatLng(40.453332,-80.011723),
     new google.maps.LatLng(40.469801,-79.968255),
     new google.maps.LatLng(40.456080,-79.816161),
     new google.maps.LatLng(35.086300,-85.303870),
     new google.maps.LatLng(40.461779,-79.676998),
     new google.maps.LatLng(40.397180,-80.184886),
     new google.maps.LatLng(40.422901,-79.681644),
     new google.maps.LatLng(40.401928,-79.921260),
     new google.maps.LatLng(40.413822,-79.909741),
     new google.maps.LatLng(40.197637,-79.766482),
     new google.maps.LatLng(40.294152,-79.793984),
     new google.maps.LatLng(40.363492,-79.842038)
];
}

function getPointsRestaurants() {
return [
 new google.maps.LatLng(40.428560,-79.971306),
 new google.maps.LatLng(40.463157,-79.977373),
 new google.maps.LatLng(40.451078,-79.934369),
 new google.maps.LatLng(40.456050,-79.937433),
 new google.maps.LatLng(40.437099,-79.922707),
 new google.maps.LatLng(40.456841,-79.916024),
 new google.maps.LatLng(40.462388,-79.924611),
 new google.maps.LatLng(40.451519,-80.006029),
 new google.maps.LatLng(40.470809,-79.959999),
 new google.maps.LatLng(40.451585,-79.932828),
 new google.maps.LatLng(40.442897,-80.002375),
 new google.maps.LatLng(40.437569,-79.982553),
 new google.maps.LatLng(40.475768,-79.919650),
 new google.maps.LatLng(40.428466,-79.979290),
 new google.maps.LatLng(40.445907,-80.010505),
 new google.maps.LatLng(40.486946,-79.888865),
 new google.maps.LatLng(40.459596,-79.925584),
 new google.maps.LatLng(40.440810,-80.006105),
 new google.maps.LatLng(40.486993,-79.891129),
 new google.maps.LatLng(40.433877,-80.004540),
 new google.maps.LatLng(40.476493,-79.921481),
 new google.maps.LatLng(40.486993,-79.891129),
 new google.maps.LatLng(40.441705,-79.957343),
 new google.maps.LatLng(40.441786,-79.957448),
 new google.maps.LatLng(40.456050,-79.937433),
 new google.maps.LatLng(40.434936,-79.922662),
 new google.maps.LatLng(40.433971,-80.004921),
 new google.maps.LatLng(40.441831,-79.956862),
 new google.maps.LatLng(40.454233,-79.947420),
 new google.maps.LatLng(40.486993,-79.891129),
 new google.maps.LatLng(40.437095,-79.996551),
 new google.maps.LatLng(40.432953,-79.923215),
 new google.maps.LatLng(40.570088,-79.802487),
 new google.maps.LatLng(40.570420,-79.802487),
 new google.maps.LatLng(40.394949,-80.021979),
 new google.maps.LatLng(40.456050,-79.937433),
 new google.maps.LatLng(40.450740,-79.935713),
 new google.maps.LatLng(40.395030,-80.022054),
 new google.maps.LatLng(40.456050,-79.937433),
 new google.maps.LatLng(40.438207,-79.998720),
 new google.maps.LatLng(40.456050,-79.937433),
 new google.maps.LatLng(40.454233,-79.947420),
 new google.maps.LatLng(40.456050,-79.937433),
 new google.maps.LatLng(40.450740,-79.935713),
 new google.maps.LatLng(40.454233,-79.947420),
 new google.maps.LatLng(40.786080,-79.931110),
 new google.maps.LatLng(40.428125,-79.969810),
 new google.maps.LatLng(40.454233,-79.947420),
 new google.maps.LatLng(40.428125,-79.969810),
 new google.maps.LatLng(40.786080,-79.931110),
 new google.maps.LatLng(40.380184,-80.044534),
 new google.maps.LatLng(40.633287,-80.055942),
 new google.maps.LatLng(40.381905,-80.044391),
 new google.maps.LatLng(40.631462,-80.059193),
 new google.maps.LatLng(40.540093,-80.180011),
 new google.maps.LatLng(40.433756,-79.787729),
 new google.maps.LatLng(40.630079,-80.057321),
 new google.maps.LatLng(40.540899,-80.180019),
 new google.maps.LatLng(40.637342,-80.063528),
 new google.maps.LatLng(40.381295,-80.044092),
 new google.maps.LatLng(40.408168,-80.085132),
 new google.maps.LatLng(40.445481,-79.712872),
 new google.maps.LatLng(40.345621,-80.048793),
 new google.maps.LatLng(40.438390,-79.765176),
 new google.maps.LatLng(40.407080,-79.917397),
 new google.maps.LatLng(40.070704,-79.899945),
 new google.maps.LatLng(40.496440,-80.057834),
 new google.maps.LatLng(40.515766,-80.022285),
 new google.maps.LatLng(40.629662,-80.057200),
 new google.maps.LatLng(40.602370,-79.945553),
 new google.maps.LatLng(40.333336,-80.023347),
 new google.maps.LatLng(40.381327,-80.044089),
 new google.maps.LatLng(40.422089,-79.662357),
 new google.maps.LatLng(40.438569,-79.777650),
 new google.maps.LatLng(40.407634,-79.917043),
 new google.maps.LatLng(40.337508,-79.809553),
 new google.maps.LatLng(40.439154,-79.766929),
 new google.maps.LatLng(40.632483,-80.058283),
 new google.maps.LatLng(40.331506,-79.943971),
 new google.maps.LatLng(40.521857,-80.174776),
 new google.maps.LatLng(40.133314,-79.861908),
 new google.maps.LatLng(40.622999,-80.054317),
 new google.maps.LatLng(40.631771,-80.056753),
 new google.maps.LatLng(40.346499,-80.027622)
];
}

function getPointsServices() {
return [
new google.maps.LatLng(40.567168,-79.800866),
new google.maps.LatLng(40.412010,-79.904712),
new google.maps.LatLng(40.333431,-79.944181)
];
}

    </script>
     <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD7g45usq9bIsKXiTJXyzbZuRmRMS0Nzt8&signed_in=true&libraries=visualization&callback=initMap">
    </script>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>
